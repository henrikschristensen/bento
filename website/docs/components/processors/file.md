---
title: file
slug: file
type: processor
status: experimental
categories: ["Local"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::caution EXPERIMENTAL
This component is experimental and therefore subject to change or removal outside of major version releases.
:::
Performs operations (read, write, delete, move, rename, stat) on files.


<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

<TabItem value="common">

```yml
# Common config fields, showing default values
label: ""
file:
  operation: read # No default (required)
  path: /tmp/data.txt # No default (required)
  dest: /tmp/backup/${! json("document.id") }.txt # No default (optional)
```

</TabItem>
<TabItem value="advanced">

```yml
# All config fields, showing default values
label: ""
file:
  operation: read # No default (required)
  path: /tmp/data.txt # No default (required)
  dest: /tmp/backup/${! json("document.id") }.txt # No default (optional)
  scanner: null # No default (optional)
```

</TabItem>
</Tabs>

This processor allows you to perform various file operations based on message content. The operation is specified by the 'operation' field, and paths can be dynamically generated using interpolation functions.

### Operations

- **read**: Read file content into the message
- **write**: Write message content to a file
- **delete**: Delete a file
- **move**: Move a file by copying bytes (works across filesystems)
- **rename**: Rename/move a file using os.Rename (faster, same filesystem only)
- **stat**: Get file information without reading content

### Important Differences: move vs rename

- **rename**: Uses os.Rename() which is atomic and fast, but only works within the same filesystem. Fails if source and destination are on different filesystems or partitions.
- **move**: Uses byte-level copying which works across filesystems but is slower and uses more resources. More reliable for cross-filesystem operations.

Use rename when you're sure both paths are on the same filesystem and want maximum performance. Use move when you need cross-filesystem compatibility or when you're unsure about the filesystem layout.

### Metadata

When reading or getting file info (stat), this processor adds the following metadata fields:

```text
- file_path: The path of the file
- file_size: The size of the file in bytes
- file_mod_time_unix: File modification time as Unix timestamp
- file_mod_time: File modification time in RFC3339 format
- file_name: The name of the file
- file_is_dir: Whether the file is a directory (true/false)
- file_mode: File permissions and mode
```

## Fields

### `operation`

The file operation to perform.


Type: `string`  
Options: `read`, `write`, `delete`, `move`, `rename`, `stat`.

```yml
# Examples

operation: read

operation: write

operation: delete

operation: move

operation: rename

operation: stat
```

### `path`

The source file path. Supports interpolation for dynamic paths.
This field supports [interpolation functions](/docs/configuration/interpolation#bloblang-queries).


Type: `string`  

```yml
# Examples

path: /tmp/data.txt

path: /tmp/${! json("document.id") }.txt
```

### `dest`

The destination path for 'move' and 'rename' operations. Supports interpolation.
This field supports [interpolation functions](/docs/configuration/interpolation#bloblang-queries).


Type: `string`  

```yml
# Examples

dest: /tmp/backup/${! json("document.id") }.txt
```

### `scanner`

The scanner to use for reading files.


Type: `scanner`  


